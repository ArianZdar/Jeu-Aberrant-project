@use '../../../../theme.scss' as *;

$border-radius-sm: 1vh;
$border-radius-md: 2vh;
$box-shadow-std: 0 0.4vh 0.8vh rgba(0, 0, 0, 0.3);
$color-blue: #0066cc;
$color-border: #333;
$pointer-size: 1.4vh;
$red-color: rgb(220, 25, 25);
$green-color: rgb(22, 204, 22);
$player-turn-color: #4285f4; 
$opponent-turn-color: #ff3333;

@mixin text-shadow {
  text-shadow: 0 0.2vh 0.4vh rgba(0, 0, 0, 0.7);
}

@mixin center-horizontal {
  left: 50%;
  transform: translateX(-50%);
}

@mixin single-line-text {
  white-space: nowrap;
  overflow: hidden;
  text-overflow: ellipsis;
}

.combat-timer {
  position: absolute;
  top: 10vh;
  @include center-horizontal;
  font-size: 1.5vh;
  color: white;
  @include text-shadow;
  z-index: 10;
  text-align: center;
  font-family: $game-preview-font;
  font-weight: bold;
  padding: 1vh 2vh;
  background-color: rgba(0, 0, 0, 0.7);
  border-radius: $border-radius-sm;
  backdrop-filter: blur(0.5vh);
  border: 0.3vh solid $color-blue;
  margin-top: 2vh;
  width: auto;
  min-width: 16vh;
  min-height: 5vh;
  display: flex;
  flex-direction: column;
  align-items: center;
  justify-content: center;
  transition: border-color 0.3s, box-shadow 0.3s, color 0.3s;

  &.player-turn {
    border-color: $player-turn-color;
    box-shadow: 0 0 1vh 0.2vh rgba(66, 133, 244, 0.5);
    
    .timer-value {
      color: $player-turn-color;
    }
  }
  
  &.opponent-turn {
    border-color: $opponent-turn-color;
    box-shadow: 0 0 1vh 0.2vh rgba(255, 51, 51, 0.5);
    
    .timer-value {
      color: $opponent-turn-color;
    }
  }

  .timer-label {
    font-size: 1vh; 
    @include single-line-text;
  }

  .timer-value {
    font-size: 1.5vh;
    font-weight: bold;
    @include text-shadow;
    @include single-line-text;
  }
}
